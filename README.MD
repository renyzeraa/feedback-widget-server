# Widget de Feedback - Servidor ğŸ“¥

Uma API RESTful construÃ­da com Node.js seguindo os princÃ­pios SOLID para coletar e gerenciar feedback de usuÃ¡rios.

[RepositÃ³rio do Frontend](https://github.com/renyzeraa/feedback-widget-web)

## ğŸš€ Tecnologias

- [Node.js](https://nodejs.org/)
- [TypeScript](https://www.typescriptlang.org/)
- [Fastify](https://www.fastify.io/)
- [Prisma](https://www.prisma.io/)
- [PostgreSQL](https://www.postgresql.org/)
- [Nodemailer](https://nodemailer.com/)
- [Jest](https://jestjs.io/)
- [Zod](https://zod.dev/)

## ğŸ“‹ Funcionalidades

- Envio de feedback (BUG, IDEIA, OUTRO)
- NotificaÃ§Ãµes por email
- Anexos de screenshots
- ValidaÃ§Ã£o de entrada
- Tratamento de erros
- Testes unitÃ¡rios

## ğŸ—ï¸ Arquitetura

O projeto segue os princÃ­pios SOLID e Clean Architecture:

- **Controllers**: Manipulam requisiÃ§Ãµes/respostas HTTP
- **Casos de Uso**: ContÃªm a lÃ³gica de negÃ³cios
- **RepositÃ³rios**: Camada de acesso a dados
- **Entidades**: Modelos de domÃ­nio
- **Adaptadores**: IntegraÃ§Ã£o com serviÃ§os externos (email)

## ğŸ’» ComeÃ§ando

### PrÃ©-requisitos

- Node.js
- Docker
- Docker Compose

### InstalaÃ§Ã£o

1. Clone o repositÃ³rio:

```bash
git clone https://github.com/seuusuario/feedback-widget-server.git
```

2. Instale as dependÃªncias:

```bash
npm install
```

3. Crie o arquivo de ambiente:

```bash
cp .env.example .env
```

4. Inicie o banco de dados PostgreSQL:

```bash
docker-compose up -d
```

5. Execute as migraÃ§Ãµes:

```bash
npx prisma migrate dev
```

6. Na base do projeto possui a collection para realizar requisiÃ§Ãµes pelo postman.

### Executando

Modo desenvolvimento:

```bash
npm run dev
```

Build de produÃ§Ã£o:

```bash
npm run build
npm start
```

Testes:

```bash
npm run test
```

## ğŸ“ DocumentaÃ§Ã£o da API

### Enviar Feedback

```http
POST /api/v1/feedbacks
```

Corpo da requisiÃ§Ã£o:

```json
{
  "type": "BUG", // BUG, IDEIA, OUTRO
  "comment": "Algo nÃ£o estÃ¡ funcionando",
  "screenshot": "data:image/png;base64,..." // opcional
}
```

## ğŸ§ª Testes

O projeto inclui testes unitÃ¡rios para os principais casos de uso utilizando Jest:

- ValidaÃ§Ã£o de envio de feedback
- Envio de email
- ValidaÃ§Ã£o de screenshot
- Tratamento de erros

## ğŸ“¦ VariÃ¡veis de Ambiente

- `DATABASE_URL`: String de conexÃ£o PostgreSQL
- `PORT`: Porta do servidor (padrÃ£o: 3333)
- `NODE_ENV`: Ambiente (dev, test, production)

## ğŸ› ï¸ ConstruÃ­do com PrincÃ­pios SOLID

- PrincÃ­pio da **R**esponsabilidade Ãšnica
- PrincÃ­pio **A**berto/Fechado
- PrincÃ­pio da **S**ubstituiÃ§Ã£o de Liskov
- PrincÃ­pio da **S**egregaÃ§Ã£o de Interface
- PrincÃ­pio da **I**nversÃ£o de DependÃªncia

---

Se vocÃª tiver alguma dÃºvida ou sugestÃ£o, entre em contato e sinta-se Ã  vontade para contribuir !

<img align="left" src="https://avatars.githubusercontent.com/renyzeraa?size=100">

Feito por [Renan L. Silva](https://github.com/renyzeraa)! <br>
ğŸ›  Dev. FullStack <br>
ğŸ“ Santa Catarina - Brasil <br>

<a href="https://www.linkedin.com/in/renyzeraa" target="_blank"><img src="https://img.shields.io/badge/LinkedIn-0077B5?style=flat&logo=linkedin&logoColor=white" alt="LinkedIn Badge" height="20"></a>&nbsp;
<a href="mailto:renansilvaytb@gmail.com" target="_blank"><img src="https://img.shields.io/badge/Gmail-D14836?style=flat&logo=gmail&logoColor=white" alt="Gmail Badge" height="20"></a>&nbsp;
<a href="#"><img src="https://img.shields.io/badge/Discord-%237289DA.svg?logo=discord&logoColor=white" title="renan_s#7826" alt="Discord Badge" height="20"></a>&nbsp;
<a href="https://www.github.com/renyzeraa" target="_blank"><img src="https://img.shields.io/badge/GitHub-100000?style=flat&logo=github&logoColor=white" alt="GitHub Badge" height="20"></a>&nbsp;

<br clear="left"/>
